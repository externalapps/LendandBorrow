{"ast":null,"code":"import jsPDF from 'jspdf';\nexport const generateLoanPDF = loan => {\n  var _loan$lenderId, _loan$borrowerId;\n  const doc = new jsPDF();\n\n  // Header\n  doc.setFontSize(20);\n  doc.setTextColor(11, 21, 64); // Navy color\n  doc.text('PaySafe', 20, 30);\n  doc.setFontSize(16);\n  doc.setTextColor(15, 181, 166); // Teal color\n  doc.text('Loan Summary Report', 20, 45);\n\n  // Loan Details\n  doc.setFontSize(12);\n  doc.setTextColor(0, 0, 0);\n  const yStart = 65;\n  let yPos = yStart;\n\n  // Basic Information\n  doc.setFontSize(14);\n  doc.text('Loan Information', 20, yPos);\n  yPos += 15;\n  doc.setFontSize(10);\n  doc.text(`Loan ID: ${loan.id}`, 20, yPos);\n  yPos += 8;\n  doc.text(`Status: ${loan.status}`, 20, yPos);\n  yPos += 8;\n  doc.text(`Created: ${new Date(loan.createdAt).toLocaleDateString()}`, 20, yPos);\n  yPos += 8;\n  if (loan.disbursedAt) {\n    doc.text(`Disbursed: ${new Date(loan.disbursedAt).toLocaleDateString()}`, 20, yPos);\n    yPos += 8;\n  }\n  if (loan.dueAt) {\n    doc.text(`Due Date: ${new Date(loan.dueAt).toLocaleDateString()}`, 20, yPos);\n    yPos += 8;\n  }\n  yPos += 10;\n\n  // Participants\n  doc.setFontSize(14);\n  doc.text('Participants', 20, yPos);\n  yPos += 15;\n  doc.setFontSize(10);\n  doc.text(`Lender: ${((_loan$lenderId = loan.lenderId) === null || _loan$lenderId === void 0 ? void 0 : _loan$lenderId.name) || 'N/A'}`, 20, yPos);\n  yPos += 8;\n  doc.text(`Borrower: ${((_loan$borrowerId = loan.borrowerId) === null || _loan$borrowerId === void 0 ? void 0 : _loan$borrowerId.name) || 'N/A'}`, 20, yPos);\n  yPos += 15;\n\n  // Financial Summary\n  doc.setFontSize(14);\n  doc.text('Financial Summary', 20, yPos);\n  yPos += 15;\n  doc.setFontSize(10);\n  doc.text(`Principal Amount: ₹${loan.principal.toLocaleString()}`, 20, yPos);\n  yPos += 8;\n  doc.text(`Platform Fee: ₹${loan.initialPlatformFee.toLocaleString()}`, 20, yPos);\n  yPos += 8;\n  doc.text(`Outstanding: ₹${loan.outstanding.toLocaleString()}`, 20, yPos);\n  yPos += 8;\n  doc.text(`Total Paid: ₹${loan.totalPaymentsMade.toLocaleString()}`, 20, yPos);\n  yPos += 8;\n  doc.text(`Fees Paid: ₹${loan.totalFeesPaid.toLocaleString()}`, 20, yPos);\n  yPos += 15;\n\n  // Payment Schedule\n  if (loan.blockSchedule && loan.blockSchedule.length > 0) {\n    doc.setFontSize(14);\n    doc.text('Payment Schedule', 20, yPos);\n    yPos += 15;\n    doc.setFontSize(10);\n    loan.blockSchedule.forEach((block, index) => {\n      if (yPos > 250) {\n        doc.addPage();\n        yPos = 20;\n      }\n      doc.text(`Block ${block.blockNumber}: ${new Date(block.startDate).toLocaleDateString()} - ${new Date(block.endDate).toLocaleDateString()}`, 20, yPos);\n      yPos += 8;\n      if (block.isMainGrace) {\n        doc.text('(Main Grace Period)', 30, yPos);\n        yPos += 8;\n      }\n    });\n  }\n\n  // Footer\n  const pageCount = doc.internal.getNumberOfPages();\n  for (let i = 1; i <= pageCount; i++) {\n    doc.setPage(i);\n    doc.setFontSize(8);\n    doc.setTextColor(128, 128, 128);\n    doc.text(`Generated on ${new Date().toLocaleString()}`, 20, doc.internal.pageSize.height - 10);\n    doc.text(`Page ${i} of ${pageCount}`, doc.internal.pageSize.width - 40, doc.internal.pageSize.height - 10);\n  }\n  return doc;\n};\nexport const downloadLoanPDF = loan => {\n  const doc = generateLoanPDF(loan);\n  doc.save(`loan-${loan.id}-summary.pdf`);\n};","map":{"version":3,"names":["jsPDF","generateLoanPDF","loan","_loan$lenderId","_loan$borrowerId","doc","setFontSize","setTextColor","text","yStart","yPos","id","status","Date","createdAt","toLocaleDateString","disbursedAt","dueAt","lenderId","name","borrowerId","principal","toLocaleString","initialPlatformFee","outstanding","totalPaymentsMade","totalFeesPaid","blockSchedule","length","forEach","block","index","addPage","blockNumber","startDate","endDate","isMainGrace","pageCount","internal","getNumberOfPages","i","setPage","pageSize","height","width","downloadLoanPDF","save"],"sources":["C:/Users/DELL/PaySafe/client/src/utils/pdfExport.js"],"sourcesContent":["import jsPDF from 'jspdf';\r\n\r\nexport const generateLoanPDF = (loan) => {\r\n  const doc = new jsPDF();\r\n  \r\n  // Header\r\n  doc.setFontSize(20);\r\n  doc.setTextColor(11, 21, 64); // Navy color\r\n  doc.text('PaySafe', 20, 30);\r\n  \r\n  doc.setFontSize(16);\r\n  doc.setTextColor(15, 181, 166); // Teal color\r\n  doc.text('Loan Summary Report', 20, 45);\r\n  \r\n  // Loan Details\r\n  doc.setFontSize(12);\r\n  doc.setTextColor(0, 0, 0);\r\n  \r\n  const yStart = 65;\r\n  let yPos = yStart;\r\n  \r\n  // Basic Information\r\n  doc.setFontSize(14);\r\n  doc.text('Loan Information', 20, yPos);\r\n  yPos += 15;\r\n  \r\n  doc.setFontSize(10);\r\n  doc.text(`Loan ID: ${loan.id}`, 20, yPos);\r\n  yPos += 8;\r\n  doc.text(`Status: ${loan.status}`, 20, yPos);\r\n  yPos += 8;\r\n  doc.text(`Created: ${new Date(loan.createdAt).toLocaleDateString()}`, 20, yPos);\r\n  yPos += 8;\r\n  \r\n  if (loan.disbursedAt) {\r\n    doc.text(`Disbursed: ${new Date(loan.disbursedAt).toLocaleDateString()}`, 20, yPos);\r\n    yPos += 8;\r\n  }\r\n  \r\n  if (loan.dueAt) {\r\n    doc.text(`Due Date: ${new Date(loan.dueAt).toLocaleDateString()}`, 20, yPos);\r\n    yPos += 8;\r\n  }\r\n  \r\n  yPos += 10;\r\n  \r\n  // Participants\r\n  doc.setFontSize(14);\r\n  doc.text('Participants', 20, yPos);\r\n  yPos += 15;\r\n  \r\n  doc.setFontSize(10);\r\n  doc.text(`Lender: ${loan.lenderId?.name || 'N/A'}`, 20, yPos);\r\n  yPos += 8;\r\n  doc.text(`Borrower: ${loan.borrowerId?.name || 'N/A'}`, 20, yPos);\r\n  yPos += 15;\r\n  \r\n  // Financial Summary\r\n  doc.setFontSize(14);\r\n  doc.text('Financial Summary', 20, yPos);\r\n  yPos += 15;\r\n  \r\n  doc.setFontSize(10);\r\n  doc.text(`Principal Amount: ₹${loan.principal.toLocaleString()}`, 20, yPos);\r\n  yPos += 8;\r\n  doc.text(`Platform Fee: ₹${loan.initialPlatformFee.toLocaleString()}`, 20, yPos);\r\n  yPos += 8;\r\n  doc.text(`Outstanding: ₹${loan.outstanding.toLocaleString()}`, 20, yPos);\r\n  yPos += 8;\r\n  doc.text(`Total Paid: ₹${loan.totalPaymentsMade.toLocaleString()}`, 20, yPos);\r\n  yPos += 8;\r\n  doc.text(`Fees Paid: ₹${loan.totalFeesPaid.toLocaleString()}`, 20, yPos);\r\n  yPos += 15;\r\n  \r\n  // Payment Schedule\r\n  if (loan.blockSchedule && loan.blockSchedule.length > 0) {\r\n    doc.setFontSize(14);\r\n    doc.text('Payment Schedule', 20, yPos);\r\n    yPos += 15;\r\n    \r\n    doc.setFontSize(10);\r\n    loan.blockSchedule.forEach((block, index) => {\r\n      if (yPos > 250) {\r\n        doc.addPage();\r\n        yPos = 20;\r\n      }\r\n      \r\n      doc.text(`Block ${block.blockNumber}: ${new Date(block.startDate).toLocaleDateString()} - ${new Date(block.endDate).toLocaleDateString()}`, 20, yPos);\r\n      yPos += 8;\r\n      \r\n      if (block.isMainGrace) {\r\n        doc.text('(Main Grace Period)', 30, yPos);\r\n        yPos += 8;\r\n      }\r\n    });\r\n  }\r\n  \r\n  // Footer\r\n  const pageCount = doc.internal.getNumberOfPages();\r\n  for (let i = 1; i <= pageCount; i++) {\r\n    doc.setPage(i);\r\n    doc.setFontSize(8);\r\n    doc.setTextColor(128, 128, 128);\r\n    doc.text(`Generated on ${new Date().toLocaleString()}`, 20, doc.internal.pageSize.height - 10);\r\n    doc.text(`Page ${i} of ${pageCount}`, doc.internal.pageSize.width - 40, doc.internal.pageSize.height - 10);\r\n  }\r\n  \r\n  return doc;\r\n};\r\n\r\nexport const downloadLoanPDF = (loan) => {\r\n  const doc = generateLoanPDF(loan);\r\n  doc.save(`loan-${loan.id}-summary.pdf`);\r\n};\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}