{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\PaySafe\\\\client\\\\src\\\\pages\\\\Collection.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useLoan } from '../contexts/LoanContext';\nimport { communicationAPI } from '../services/api';\nimport { PhoneIcon, ChatBubbleLeftRightIcon, EnvelopeIcon, PlayIcon, ArrowLeftIcon, ClockIcon, CheckCircleIcon, ExclamationTriangleIcon } from '@heroicons/react/24/outline';\nimport LoadingSpinner from '../components/LoadingSpinner';\nimport toast from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Collection = () => {\n  _s();\n  var _loan$borrowerId, _loan$lenderId;\n  const {\n    loanId\n  } = useParams();\n  const navigate = useNavigate();\n  const {\n    user\n  } = useAuth();\n  const {\n    fetchLoanById\n  } = useLoan();\n  const [loan, setLoan] = useState(null);\n  const [communications, setCommunications] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [sending, setSending] = useState(false);\n  useEffect(() => {\n    fetchData();\n  }, [loanId]);\n  const fetchData = async () => {\n    setLoading(true);\n    try {\n      const [loanData, communicationsData] = await Promise.all([fetchLoanById(loanId), communicationAPI.getCommunicationHistory(loanId)]);\n      setLoan(loanData);\n      setCommunications(communicationsData.data.communications || []);\n    } catch (error) {\n      console.error('Error fetching data:', error);\n      toast.error('Failed to fetch data');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const sendReminder = async type => {\n    if (!loan) return;\n    setSending(true);\n    try {\n      const borrower = loan.borrowerId;\n      const borrowerName = borrower.name;\n      const borrowerPhone = borrower.phone;\n      const borrowerEmail = borrower.email;\n      const outstanding = loan.outstanding;\n      const minPayment = Math.round(loan.outstanding * 0.20 * 100) / 100;\n      const blockEndDate = new Date(Date.now() + 10 * 24 * 60 * 60 * 1000); // 10 days from now\n\n      let result;\n      switch (type) {\n        case 'call':\n          result = await communicationAPI.sendCall({\n            loanId,\n            borrowerPhone,\n            borrowerName,\n            outstanding,\n            minPayment,\n            blockEndDate\n          });\n          break;\n        case 'sms':\n          result = await communicationAPI.sendSMS({\n            loanId,\n            borrowerPhone,\n            borrowerName,\n            outstanding,\n            minPayment,\n            blockEndDate\n          });\n          break;\n        case 'email':\n          result = await communicationAPI.sendEmail({\n            loanId,\n            borrowerEmail,\n            borrowerName,\n            outstanding,\n            minPayment,\n            blockEndDate\n          });\n          break;\n        default:\n          throw new Error('Invalid communication type');\n      }\n      toast.success(`${type.toUpperCase()} sent successfully!`);\n      fetchData(); // Refresh communications\n    } catch (error) {\n      console.error('Error sending reminder:', error);\n      toast.error(`Failed to send ${type.toUpperCase()}`);\n    } finally {\n      setSending(false);\n    }\n  };\n  const formatDate = date => {\n    return new Date(date).toLocaleString('en-IN', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n  const getStatusColor = status => {\n    switch (status) {\n      case 'DELIVERED':\n        return 'text-green-600 bg-green-100';\n      case 'SENT':\n        return 'text-blue-600 bg-blue-100';\n      case 'PENDING':\n        return 'text-yellow-600 bg-yellow-100';\n      case 'FAILED':\n        return 'text-red-600 bg-red-100';\n      default:\n        return 'text-gray-600 bg-gray-100';\n    }\n  };\n  const getTypeIcon = type => {\n    switch (type) {\n      case 'call':\n        return PhoneIcon;\n      case 'sms':\n        return ChatBubbleLeftRightIcon;\n      case 'email':\n        return EnvelopeIcon;\n      default:\n        return ChatBubbleLeftRightIcon;\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(LoadingSpinner, {\n        size: \"lg\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this);\n  }\n  if (!loan) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(ExclamationTriangleIcon, {\n          className: \"w-16 h-16 text-gray-400 mx-auto mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-semibold text-gray-900 mb-2\",\n          children: \"Loan Not Found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 mb-4\",\n          children: \"The loan you're looking for doesn't exist or you don't have access to it.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/dashboard'),\n          className: \"btn-primary\",\n          children: \"Back to Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }, this);\n  }\n  const isLender = loan.lenderId === user.id;\n  const isBorrower = loan.borrowerId === user.id;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate(`/loan/${loanId}`),\n          className: \"flex items-center text-gray-600 hover:text-gray-900 mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(ArrowLeftIcon, {\n            className: \"w-5 h-5 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 13\n          }, this), \"Back to Loan Details\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl font-bold text-gray-900 mb-2\",\n          children: \"Communications & Collection\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: [\"Loan ID: \", loan.id]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-3 gap-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-2 space-y-6\",\n          children: [isLender && loan.status === 'ACTIVE' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-header\",\n              children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-xl font-semibold text-gray-900\",\n                children: \"Send Payment Reminder\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-1 md:grid-cols-3 gap-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => sendReminder('call'),\n                  disabled: sending,\n                  className: \"flex items-center justify-center p-4 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50\",\n                  children: [/*#__PURE__*/_jsxDEV(PhoneIcon, {\n                    className: \"w-6 h-6 text-blue-600 mr-3\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 206,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-left\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"font-medium text-gray-900\",\n                      children: \"Voice Call\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 208,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm text-gray-500\",\n                      children: \"Automated call\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 209,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 207,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => sendReminder('sms'),\n                  disabled: sending,\n                  className: \"flex items-center justify-center p-4 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50\",\n                  children: [/*#__PURE__*/_jsxDEV(ChatBubbleLeftRightIcon, {\n                    className: \"w-6 h-6 text-green-600 mr-3\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 218,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-left\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"font-medium text-gray-900\",\n                      children: \"SMS\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 220,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm text-gray-500\",\n                      children: \"Text message\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 221,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 219,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => sendReminder('email'),\n                  disabled: sending,\n                  className: \"flex items-center justify-center p-4 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50\",\n                  children: [/*#__PURE__*/_jsxDEV(EnvelopeIcon, {\n                    className: \"w-6 h-6 text-purple-600 mr-3\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 230,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-left\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"font-medium text-gray-900\",\n                      children: \"Email\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 232,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm text-gray-500\",\n                      children: \"Email reminder\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 233,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 231,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 19\n              }, this), sending && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-4 flex items-center justify-center\",\n                children: [/*#__PURE__*/_jsxDEV(LoadingSpinner, {\n                  size: \"sm\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"ml-2 text-gray-600\",\n                  children: \"Sending reminder...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 241,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-header\",\n              children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-xl font-semibold text-gray-900\",\n                children: \"Communication History\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              children: communications.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-4\",\n                children: communications.map(comm => {\n                  const Icon = getTypeIcon(comm.type);\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"border border-gray-200 rounded-lg p-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-start justify-between mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex items-center space-x-3\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center\",\n                          children: /*#__PURE__*/_jsxDEV(Icon, {\n                            className: \"w-5 h-5 text-gray-600\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 263,\n                            columnNumber: 33\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 262,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                            className: \"font-medium text-gray-900 capitalize\",\n                            children: [comm.type, \" \", comm.type === 'call' ? 'Call' : comm.type === 'sms' ? 'Message' : 'Email']\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 266,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"text-sm text-gray-500\",\n                            children: formatDate(comm.sentAt)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 269,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 265,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 261,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: `status-badge ${getStatusColor(comm.status).replace('text-', 'text-').replace('bg-', 'bg-')}`,\n                        children: comm.status\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 274,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 260,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"bg-gray-50 rounded-lg p-3 mb-3\",\n                      children: /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-sm text-gray-700 whitespace-pre-wrap\",\n                        children: comm.transcript\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 280,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 279,\n                      columnNumber: 27\n                    }, this), comm.type === 'call' && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center space-x-4\",\n                      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"flex items-center text-blue-600 hover:text-blue-800 text-sm\",\n                        children: [/*#__PURE__*/_jsxDEV(PlayIcon, {\n                          className: \"w-4 h-4 mr-1\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 288,\n                          columnNumber: 33\n                        }, this), \"Play Call\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 287,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-sm text-gray-500\",\n                        children: [\"Duration: \", Math.floor(Math.random() * 120) + 30, \"s\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 291,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 286,\n                      columnNumber: 29\n                    }, this), comm.metadata && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mt-3 pt-3 border-t border-gray-200\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"text-gray-600\",\n                            children: \"Block:\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 301,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"font-medium ml-1\",\n                            children: comm.metadata.blockNumber\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 302,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 300,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"text-gray-600\",\n                            children: \"Outstanding:\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 305,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"font-medium ml-1\",\n                            children: [\"\\u20B9\", comm.metadata.outstandingAmount]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 306,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 304,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"text-gray-600\",\n                            children: \"Min Payment:\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 309,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"font-medium ml-1\",\n                            children: [\"\\u20B9\", comm.metadata.minPayment]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 310,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 308,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"text-gray-600\",\n                            children: \"Due Date:\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 313,\n                            columnNumber: 35\n                          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"font-medium ml-1\",\n                            children: new Date(comm.metadata.blockEndDate).toLocaleDateString()\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 314,\n                            columnNumber: 35\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 312,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 299,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 298,\n                      columnNumber: 29\n                    }, this)]\n                  }, comm.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 259,\n                    columnNumber: 25\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center py-8\",\n                children: [/*#__PURE__*/_jsxDEV(ChatBubbleLeftRightIcon, {\n                  className: \"w-12 h-12 text-gray-400 mx-auto mb-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 327,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-medium text-gray-900 mb-2\",\n                  children: \"No Communications Yet\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 328,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-600\",\n                  children: isLender ? 'Send payment reminders to the borrower' : 'Communications from the lender will appear here'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 329,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 326,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-1 space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-header\",\n              children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-lg font-semibold text-gray-900\",\n                children: \"Loan Summary\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-gray-600\",\n                    children: \"Status:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 351,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-medium\",\n                    children: loan.status\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 352,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 350,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-gray-600\",\n                    children: \"Outstanding:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 355,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-medium\",\n                    children: [\"\\u20B9\", loan.outstanding.toLocaleString()]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 356,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 354,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-gray-600\",\n                    children: \"Borrower:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 359,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-medium\",\n                    children: (_loan$borrowerId = loan.borrowerId) === null || _loan$borrowerId === void 0 ? void 0 : _loan$borrowerId.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 360,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 358,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-gray-600\",\n                    children: \"Lender:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 363,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-medium\",\n                    children: (_loan$lenderId = loan.lenderId) === null || _loan$lenderId === void 0 ? void 0 : _loan$lenderId.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 364,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 362,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-header\",\n              children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-lg font-semibold text-gray-900\",\n                children: \"Communication Stats\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 373,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-gray-600\",\n                    children: \"Total Communications:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 378,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-medium\",\n                    children: communications.length\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 379,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 377,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-gray-600\",\n                    children: \"Calls:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 382,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-medium\",\n                    children: communications.filter(c => c.type === 'call').length\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 383,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 381,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-gray-600\",\n                    children: \"SMS:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 388,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-medium\",\n                    children: communications.filter(c => c.type === 'sms').length\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 389,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 387,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-gray-600\",\n                    children: \"Emails:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 394,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-medium\",\n                    children: communications.filter(c => c.type === 'email').length\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 395,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 393,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 376,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-header\",\n              children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-lg font-semibold text-gray-900\",\n                children: \"Quick Actions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 406,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 405,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => navigate(`/loan/${loanId}`),\n                  className: \"btn-outline w-full\",\n                  children: \"View Loan Details\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 410,\n                  columnNumber: 19\n                }, this), isBorrower && loan.status === 'ACTIVE' && /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => navigate(`/repayment/${loanId}`),\n                  className: \"btn-primary w-full\",\n                  children: \"Make Payment\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 418,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: fetchData,\n                  className: \"btn-secondary w-full\",\n                  children: \"Refresh\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 426,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 409,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 408,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 170,\n    columnNumber: 5\n  }, this);\n};\n_s(Collection, \"xd11yBrsZc7MWgUqT6wRMBgbHmU=\", false, function () {\n  return [useParams, useNavigate, useAuth, useLoan];\n});\n_c = Collection;\nexport default Collection;\nvar _c;\n$RefreshReg$(_c, \"Collection\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","useAuth","useLoan","communicationAPI","PhoneIcon","ChatBubbleLeftRightIcon","EnvelopeIcon","PlayIcon","ArrowLeftIcon","ClockIcon","CheckCircleIcon","ExclamationTriangleIcon","LoadingSpinner","toast","jsxDEV","_jsxDEV","Collection","_s","_loan$borrowerId","_loan$lenderId","loanId","navigate","user","fetchLoanById","loan","setLoan","communications","setCommunications","loading","setLoading","sending","setSending","fetchData","loanData","communicationsData","Promise","all","getCommunicationHistory","data","error","console","sendReminder","type","borrower","borrowerId","borrowerName","name","borrowerPhone","phone","borrowerEmail","email","outstanding","minPayment","Math","round","blockEndDate","Date","now","result","sendCall","sendSMS","sendEmail","Error","success","toUpperCase","formatDate","date","toLocaleString","year","month","day","hour","minute","getStatusColor","status","getTypeIcon","className","children","size","fileName","_jsxFileName","lineNumber","columnNumber","onClick","isLender","lenderId","id","isBorrower","disabled","length","map","comm","Icon","sentAt","replace","transcript","floor","random","metadata","blockNumber","outstandingAmount","toLocaleDateString","filter","c","_c","$RefreshReg$"],"sources":["C:/Users/DELL/PaySafe/client/src/pages/Collection.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { useLoan } from '../contexts/LoanContext';\r\nimport { communicationAPI } from '../services/api';\r\nimport { \r\n  PhoneIcon, \r\n  ChatBubbleLeftRightIcon,\r\n  EnvelopeIcon,\r\n  PlayIcon,\r\n  ArrowLeftIcon,\r\n  ClockIcon,\r\n  CheckCircleIcon,\r\n  ExclamationTriangleIcon\r\n} from '@heroicons/react/24/outline';\r\nimport LoadingSpinner from '../components/LoadingSpinner';\r\nimport toast from 'react-hot-toast';\r\n\r\nconst Collection = () => {\r\n  const { loanId } = useParams();\r\n  const navigate = useNavigate();\r\n  const { user } = useAuth();\r\n  const { fetchLoanById } = useLoan();\r\n  \r\n  const [loan, setLoan] = useState(null);\r\n  const [communications, setCommunications] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [sending, setSending] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, [loanId]);\r\n\r\n  const fetchData = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const [loanData, communicationsData] = await Promise.all([\r\n        fetchLoanById(loanId),\r\n        communicationAPI.getCommunicationHistory(loanId)\r\n      ]);\r\n      \r\n      setLoan(loanData);\r\n      setCommunications(communicationsData.data.communications || []);\r\n    } catch (error) {\r\n      console.error('Error fetching data:', error);\r\n      toast.error('Failed to fetch data');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const sendReminder = async (type) => {\r\n    if (!loan) return;\r\n\r\n    setSending(true);\r\n    try {\r\n      const borrower = loan.borrowerId;\r\n      const borrowerName = borrower.name;\r\n      const borrowerPhone = borrower.phone;\r\n      const borrowerEmail = borrower.email;\r\n      const outstanding = loan.outstanding;\r\n      const minPayment = Math.round(loan.outstanding * 0.20 * 100) / 100;\r\n      const blockEndDate = new Date(Date.now() + 10 * 24 * 60 * 60 * 1000); // 10 days from now\r\n\r\n      let result;\r\n      switch (type) {\r\n        case 'call':\r\n          result = await communicationAPI.sendCall({\r\n            loanId,\r\n            borrowerPhone,\r\n            borrowerName,\r\n            outstanding,\r\n            minPayment,\r\n            blockEndDate\r\n          });\r\n          break;\r\n        case 'sms':\r\n          result = await communicationAPI.sendSMS({\r\n            loanId,\r\n            borrowerPhone,\r\n            borrowerName,\r\n            outstanding,\r\n            minPayment,\r\n            blockEndDate\r\n          });\r\n          break;\r\n        case 'email':\r\n          result = await communicationAPI.sendEmail({\r\n            loanId,\r\n            borrowerEmail,\r\n            borrowerName,\r\n            outstanding,\r\n            minPayment,\r\n            blockEndDate\r\n          });\r\n          break;\r\n        default:\r\n          throw new Error('Invalid communication type');\r\n      }\r\n\r\n      toast.success(`${type.toUpperCase()} sent successfully!`);\r\n      fetchData(); // Refresh communications\r\n    } catch (error) {\r\n      console.error('Error sending reminder:', error);\r\n      toast.error(`Failed to send ${type.toUpperCase()}`);\r\n    } finally {\r\n      setSending(false);\r\n    }\r\n  };\r\n\r\n  const formatDate = (date) => {\r\n    return new Date(date).toLocaleString('en-IN', {\r\n      year: 'numeric',\r\n      month: 'short',\r\n      day: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  };\r\n\r\n  const getStatusColor = (status) => {\r\n    switch (status) {\r\n      case 'DELIVERED': return 'text-green-600 bg-green-100';\r\n      case 'SENT': return 'text-blue-600 bg-blue-100';\r\n      case 'PENDING': return 'text-yellow-600 bg-yellow-100';\r\n      case 'FAILED': return 'text-red-600 bg-red-100';\r\n      default: return 'text-gray-600 bg-gray-100';\r\n    }\r\n  };\r\n\r\n  const getTypeIcon = (type) => {\r\n    switch (type) {\r\n      case 'call': return PhoneIcon;\r\n      case 'sms': return ChatBubbleLeftRightIcon;\r\n      case 'email': return EnvelopeIcon;\r\n      default: return ChatBubbleLeftRightIcon;\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <LoadingSpinner size=\"lg\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!loan) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <ExclamationTriangleIcon className=\"w-16 h-16 text-gray-400 mx-auto mb-4\" />\r\n          <h2 className=\"text-xl font-semibold text-gray-900 mb-2\">Loan Not Found</h2>\r\n          <p className=\"text-gray-600 mb-4\">The loan you're looking for doesn't exist or you don't have access to it.</p>\r\n          <button\r\n            onClick={() => navigate('/dashboard')}\r\n            className=\"btn-primary\"\r\n          >\r\n            Back to Dashboard\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const isLender = loan.lenderId === user.id;\r\n  const isBorrower = loan.borrowerId === user.id;\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      <div className=\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        {/* Header */}\r\n        <div className=\"mb-8\">\r\n          <button\r\n            onClick={() => navigate(`/loan/${loanId}`)}\r\n            className=\"flex items-center text-gray-600 hover:text-gray-900 mb-4\"\r\n          >\r\n            <ArrowLeftIcon className=\"w-5 h-5 mr-2\" />\r\n            Back to Loan Details\r\n          </button>\r\n          \r\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">\r\n            Communications & Collection\r\n          </h1>\r\n          <p className=\"text-gray-600\">\r\n            Loan ID: {loan.id}\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\r\n          {/* Main Content */}\r\n          <div className=\"lg:col-span-2 space-y-6\">\r\n            {/* Send Reminders (Lender only) */}\r\n            {isLender && loan.status === 'ACTIVE' && (\r\n              <div className=\"card\">\r\n                <div className=\"card-header\">\r\n                  <h2 className=\"text-xl font-semibold text-gray-900\">Send Payment Reminder</h2>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                    <button\r\n                      onClick={() => sendReminder('call')}\r\n                      disabled={sending}\r\n                      className=\"flex items-center justify-center p-4 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50\"\r\n                    >\r\n                      <PhoneIcon className=\"w-6 h-6 text-blue-600 mr-3\" />\r\n                      <div className=\"text-left\">\r\n                        <p className=\"font-medium text-gray-900\">Voice Call</p>\r\n                        <p className=\"text-sm text-gray-500\">Automated call</p>\r\n                      </div>\r\n                    </button>\r\n\r\n                    <button\r\n                      onClick={() => sendReminder('sms')}\r\n                      disabled={sending}\r\n                      className=\"flex items-center justify-center p-4 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50\"\r\n                    >\r\n                      <ChatBubbleLeftRightIcon className=\"w-6 h-6 text-green-600 mr-3\" />\r\n                      <div className=\"text-left\">\r\n                        <p className=\"font-medium text-gray-900\">SMS</p>\r\n                        <p className=\"text-sm text-gray-500\">Text message</p>\r\n                      </div>\r\n                    </button>\r\n\r\n                    <button\r\n                      onClick={() => sendReminder('email')}\r\n                      disabled={sending}\r\n                      className=\"flex items-center justify-center p-4 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50\"\r\n                    >\r\n                      <EnvelopeIcon className=\"w-6 h-6 text-purple-600 mr-3\" />\r\n                      <div className=\"text-left\">\r\n                        <p className=\"font-medium text-gray-900\">Email</p>\r\n                        <p className=\"text-sm text-gray-500\">Email reminder</p>\r\n                      </div>\r\n                    </button>\r\n                  </div>\r\n\r\n                  {sending && (\r\n                    <div className=\"mt-4 flex items-center justify-center\">\r\n                      <LoadingSpinner size=\"sm\" />\r\n                      <span className=\"ml-2 text-gray-600\">Sending reminder...</span>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Communications History */}\r\n            <div className=\"card\">\r\n              <div className=\"card-header\">\r\n                <h2 className=\"text-xl font-semibold text-gray-900\">Communication History</h2>\r\n              </div>\r\n              <div className=\"card-body\">\r\n                {communications.length > 0 ? (\r\n                  <div className=\"space-y-4\">\r\n                    {communications.map((comm) => {\r\n                      const Icon = getTypeIcon(comm.type);\r\n                      return (\r\n                        <div key={comm.id} className=\"border border-gray-200 rounded-lg p-4\">\r\n                          <div className=\"flex items-start justify-between mb-3\">\r\n                            <div className=\"flex items-center space-x-3\">\r\n                              <div className=\"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center\">\r\n                                <Icon className=\"w-5 h-5 text-gray-600\" />\r\n                              </div>\r\n                              <div>\r\n                                <h3 className=\"font-medium text-gray-900 capitalize\">\r\n                                  {comm.type} {comm.type === 'call' ? 'Call' : comm.type === 'sms' ? 'Message' : 'Email'}\r\n                                </h3>\r\n                                <p className=\"text-sm text-gray-500\">\r\n                                  {formatDate(comm.sentAt)}\r\n                                </p>\r\n                              </div>\r\n                            </div>\r\n                            <span className={`status-badge ${getStatusColor(comm.status).replace('text-', 'text-').replace('bg-', 'bg-')}`}>\r\n                              {comm.status}\r\n                            </span>\r\n                          </div>\r\n\r\n                          <div className=\"bg-gray-50 rounded-lg p-3 mb-3\">\r\n                            <p className=\"text-sm text-gray-700 whitespace-pre-wrap\">\r\n                              {comm.transcript}\r\n                            </p>\r\n                          </div>\r\n\r\n                          {comm.type === 'call' && (\r\n                            <div className=\"flex items-center space-x-4\">\r\n                              <button className=\"flex items-center text-blue-600 hover:text-blue-800 text-sm\">\r\n                                <PlayIcon className=\"w-4 h-4 mr-1\" />\r\n                                Play Call\r\n                              </button>\r\n                              <span className=\"text-sm text-gray-500\">\r\n                                Duration: {Math.floor(Math.random() * 120) + 30}s\r\n                              </span>\r\n                            </div>\r\n                          )}\r\n\r\n                          {comm.metadata && (\r\n                            <div className=\"mt-3 pt-3 border-t border-gray-200\">\r\n                              <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\">\r\n                                <div>\r\n                                  <span className=\"text-gray-600\">Block:</span>\r\n                                  <span className=\"font-medium ml-1\">{comm.metadata.blockNumber}</span>\r\n                                </div>\r\n                                <div>\r\n                                  <span className=\"text-gray-600\">Outstanding:</span>\r\n                                  <span className=\"font-medium ml-1\">{comm.metadata.outstandingAmount}</span>\r\n                                </div>\r\n                                <div>\r\n                                  <span className=\"text-gray-600\">Min Payment:</span>\r\n                                  <span className=\"font-medium ml-1\">{comm.metadata.minPayment}</span>\r\n                                </div>\r\n                                <div>\r\n                                  <span className=\"text-gray-600\">Due Date:</span>\r\n                                  <span className=\"font-medium ml-1\">\r\n                                    {new Date(comm.metadata.blockEndDate).toLocaleDateString()}\r\n                                  </span>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"text-center py-8\">\r\n                    <ChatBubbleLeftRightIcon className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\r\n                    <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No Communications Yet</h3>\r\n                    <p className=\"text-gray-600\">\r\n                      {isLender \r\n                        ? 'Send payment reminders to the borrower'\r\n                        : 'Communications from the lender will appear here'\r\n                      }\r\n                    </p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Sidebar */}\r\n          <div className=\"lg:col-span-1 space-y-6\">\r\n            {/* Loan Summary */}\r\n            <div className=\"card\">\r\n              <div className=\"card-header\">\r\n                <h3 className=\"text-lg font-semibold text-gray-900\">Loan Summary</h3>\r\n              </div>\r\n              <div className=\"card-body\">\r\n                <div className=\"space-y-3\">\r\n                  <div className=\"flex justify-between\">\r\n                    <span className=\"text-gray-600\">Status:</span>\r\n                    <span className=\"font-medium\">{loan.status}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between\">\r\n                    <span className=\"text-gray-600\">Outstanding:</span>\r\n                    <span className=\"font-medium\">{loan.outstanding.toLocaleString()}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between\">\r\n                    <span className=\"text-gray-600\">Borrower:</span>\r\n                    <span className=\"font-medium\">{loan.borrowerId?.name}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between\">\r\n                    <span className=\"text-gray-600\">Lender:</span>\r\n                    <span className=\"font-medium\">{loan.lenderId?.name}</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Communication Stats */}\r\n            <div className=\"card\">\r\n              <div className=\"card-header\">\r\n                <h3 className=\"text-lg font-semibold text-gray-900\">Communication Stats</h3>\r\n              </div>\r\n              <div className=\"card-body\">\r\n                <div className=\"space-y-3\">\r\n                  <div className=\"flex justify-between\">\r\n                    <span className=\"text-gray-600\">Total Communications:</span>\r\n                    <span className=\"font-medium\">{communications.length}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between\">\r\n                    <span className=\"text-gray-600\">Calls:</span>\r\n                    <span className=\"font-medium\">\r\n                      {communications.filter(c => c.type === 'call').length}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"flex justify-between\">\r\n                    <span className=\"text-gray-600\">SMS:</span>\r\n                    <span className=\"font-medium\">\r\n                      {communications.filter(c => c.type === 'sms').length}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"flex justify-between\">\r\n                    <span className=\"text-gray-600\">Emails:</span>\r\n                    <span className=\"font-medium\">\r\n                      {communications.filter(c => c.type === 'email').length}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Quick Actions */}\r\n            <div className=\"card\">\r\n              <div className=\"card-header\">\r\n                <h3 className=\"text-lg font-semibold text-gray-900\">Quick Actions</h3>\r\n              </div>\r\n              <div className=\"card-body\">\r\n                <div className=\"space-y-3\">\r\n                  <button\r\n                    onClick={() => navigate(`/loan/${loanId}`)}\r\n                    className=\"btn-outline w-full\"\r\n                  >\r\n                    View Loan Details\r\n                  </button>\r\n                  \r\n                  {isBorrower && loan.status === 'ACTIVE' && (\r\n                    <button\r\n                      onClick={() => navigate(`/repayment/${loanId}`)}\r\n                      className=\"btn-primary w-full\"\r\n                    >\r\n                      Make Payment\r\n                    </button>\r\n                  )}\r\n                  \r\n                  <button\r\n                    onClick={fetchData}\r\n                    className=\"btn-secondary w-full\"\r\n                  >\r\n                    Refresh\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Collection;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}